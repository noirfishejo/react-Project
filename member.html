<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/member.css" />
    <title>會員管理</title>
</head>

<body>
    <main>
        <!-- 會員中心左側選單 -->
        <ul class="member-left">
            <li class="member-management">
                <a href="#" class="big-item" id="membmanage">會員管理</a>
                <ul class="dropdown">
                    <li><a href="#" class="small-item" onclick="changeToMemb()">會員資料</a></li>
                    <li><a href="#" class="small-item" onclick="changeToAcco()">帳號管理</a></li>
                </ul>
            </li>
            <li class="appointment-management">
                <a href="#" class="big-item" id="book">預約管理</a>
                <ul class="dropdown">
                    <li><a href="#" class="small-item" onclick="changeToProg()">進行中</a></li>
                    <li><a href="#" class="small-item" onclick="changeToHist()">歷史紀錄</a></li>
                </ul>
            </li>
            <li><a href="#" class="big-item" onclick="changeToLike()">已收藏</a></li>
            <li><a href="#" class="big-item" onclick="changeToPriv()">隱私政策</a></li>
            <li><a href="#" class="big-item" onclick="changeToFaq()">常見問題</a></li>
        </ul>

        <!-- 會員資料卡片 -->
        <div id="memb" class="member-container">

            <h1 class="title">會員管理</h1>
            <div class="tabs">
                <a href="#" class="tab active" onclick="changeToMemb()">會員資料</a>
                <a href="#" class="tab" onclick="changeToAcco()">帳號管理</a>
            </div>

            <form class="member-form">
                <div class="form-group">
                    <label for="name">本名 <span class="required">*</span></label>
                    <input type="text" id="name" name="name" />
                </div>
                <div class="form-group">
                    <label for="nickname">暱稱 <span class="required">*</span></label>
                    <input type="text" id="nickname" name="nickname" />
                </div>
                <div class="form-group">
                    <label for="email">聯絡信箱 <span class="required">*</span></label>
                    <input type="email" id="email" name="email" />
                </div>
                <div class="form-group">
                    <label for="phone">聯絡電話 <span class="required">*</span></label>
                    <input type="tel" id="phone" name="phone" />
                </div>
                <div class="form-group">
                    <label for="address">地址</label>
                    <input type="text" id="address" name="address" />
                </div>
                <div class="form-group">
                    <label>性別 <span class="required">*</span></label>
                    <div class="radio-group">
                        <input type="radio" id="male" name="gender" checked />
                        <label for="male">男性</label>
                        <input type="radio" id="female" name="gender" />
                        <label for="female">女性</label>
                        <input type="radio" id="other" name="gender" />
                        <label for="other">其他</label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="birthday">生日 <span class="required">*</span></label>
                    <input type="date" id="birthday" name="birthday" />
                </div>
                <div class="form-group">
                    <label for="id">身分證字號 <span class="required">*</span></label>
                    <input type="text" id="id" name="id" />
                </div>
                <div class="form-group">
                    <label for="emergency_contact">緊急聯絡人 <span class="required">*</span></label>
                    <input type="text" id="emergency_contact" name="emergency_contact" />
                </div>
                <div class="form-group">
                    <label for="relationship">與緊急聯絡人的關係 <span class="required">*</span></label>
                    <input type="text" id="relationship" name="relationship" />
                </div>
                <div class="form-group">
                    <label for="emergency_phone">緊急聯絡人電話 <span class="required">*</span></label>
                    <input type="tel" id="emergency_phone" name="emergency_phone" />
                </div>
                <div class="form-group">
                    <label for="occupation">工作</label>
                    <input type="text" id="occupation" name="occupation" />
                </div>
                <div class="form-group">
                    <label for="emotional_status">感情狀況</label>
                    <input type="text" id="emotional_status" name="emotional_status" />
                </div>
                <div class="form-group">
                    <label for="education">學歷</label>
                    <input type="text" id="education" name="education" />
                </div>
                <small class="editdata">修改會員資料</small>
                <button type="submit" class="submit-button">儲存</button>
            </form>
        </div>

        <!-- 帳號管理卡片 -->
        <div id="acco" class="member-container" style="display: none;">

            <h1 class="title">會員管理</h1>
            <div class="tabs">
                <a href="#" class="tab" onclick="changeToMemb()">會員資料</a>
                <a href="#" class="tab active" onclick="changeToAcco()">帳號管理</a>
            </div>

            <form class="member-form">
                <div class="form-group">
                    <label for="link">第三方帳號綁定</label>
                    <div class="linkwrap">
                        <div class="fbgoogle">
                            <img src="./images/Facebook.svg" alt="綁定facebook帳號按鈕">
                            <p>已綁定</p>
                        </div>
                        <div class="fbgoogle">
                            <img src="./images/Chrome.svg" alt="綁定google帳號按鈕">
                            <p>已綁定</p>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="email">信箱</label>
                    <input type="text" />
                </div>
                <div class="form-group">
                    <label for="pw">密碼</label>
                    <input type="text" />
                </div>
                <div class="editacco">
                    <small class="editdata" onclick="changeToPw()">修改密碼</small>
                    <small class="deldata">刪除帳號</small>
                </div>
            </form>
        </div>

        <!-- 修改密碼卡片 -->
        <div id="pw" class="member-container" style="display: none;">

            <h1 class="title">會員管理</h1>
            <div class="tabs">
                <a href="#" class="tab" onclick="changeToMemb()">會員資料</a>
                <a href="#" class="tab active" onclick="changeToPw()">帳號管理</a>
            </div>

            <form class="member-form">
                <div class="form-group">
                    <label for="emal">信箱</label>
                    <input type="text" />
                </div>
                <div class="form-group">
                    <label for="newpw">新密碼</label>
                    <input type="text" />
                </div>
                <div class="form-group">
                    <label for="confirm">確認新密碼</label>
                    <input type="text" />
                </div>
                <button type="submit" class="submit-button" onclick="changeToAcco()"> 儲存</button>
                <button type="cancel" class="cancel-button" onclick="changeToAcco()">取消</button>
            </form>
        </div>

        <!-- 進行中卡片 -->
        <div id="prog" class="member-container" style="display: none;">
            <h1 class="title">預約管理</h1>
            <div class="tabs">
                <a href="#" class="tab active" onclick="changeToProg()">進行中</a>
                <a href="#" class="tab" onclick="changeToHist()">歷史紀錄</a>
            </div>
        </div>

        <!-- 歷史紀錄卡片 -->
        <div id="hist" class="member-container" style="display: none;">
            <h1 class="title">預約管理</h1>
            <div class="tabs">
                <a href="#" class="tab" onclick="changeToProg()">進行中</a>
                <a href="#" class="tab active" onclick="changeToHist()">歷史紀錄</a>
            </div>
        </div>

                <!-- 已收藏卡片 -->
                <div id="like" class="member-container" style="display: none;">
                    <h1 class="title">已收藏的心理師</h1>
                </div>

                <!-- 隱私政策卡片 -->
                <div id="priv" class="member-container" style="display: none;">
                    <h1 class="title">隱私政策</h1>
                </div>

                <!-- 常見問題卡片 -->
                <div id="faq" class="member-container" style="display: none;">
                    <h1 class="title">常見問題</h1>
                </div>
    </main>


    <script>

        let membDiv = '';
        let accoDiv = '';
        let pwDiv = '';
        let progDiv = '';
        let histDiv = '';
        let likeDiv = '';
        let privDiv = '';
        let faqDiv = '';

        function getDiv() {
            // 先取得操作的標籤div
            membDiv = document.querySelector('#memb');
            accoDiv = document.querySelector('#acco');
            pwDiv = document.querySelector('#pw');
            progDiv = document.querySelector('#prog');
            histDiv = document.querySelector('#hist');
            likeDiv = document.querySelector('#like');
            privDiv = document.querySelector('#priv');
            faqDiv = document.querySelector('#faq');

            // 再對標籤div操作
            membDiv.style.display = 'none';
            accoDiv.style.display = 'none';
            pwDiv.style.display = 'none';
            progDiv.style.display = 'none';
            histDiv.style.display = 'none';
            if (likeDiv) likeDiv.style.display = 'none'; // 加入條件檢查
            if (privDiv) privDiv.style.display = 'none'; // 因為這些元素可能
            if (faqDiv) faqDiv.style.display = 'none';   // 不存在於 DOM 中
        }

        // 會員管理
        function changeToMemb() {
            getDiv();
            membDiv.style.display = 'block';
        }

        // 帳號管理
        function changeToAcco() {
            getDiv();
            accoDiv.style.display = 'block';
        }

        // 修改密碼
        function changeToPw() {
            getDiv();
            pwDiv.style.display = 'block';
        }

        // 進行中
        function changeToProg() {
            getDiv();
            progDiv.style.display = 'block';
        }

        // 歷史紀錄
        function changeToHist() {
            getDiv();
            histDiv.style.display = 'block';
        }

        // 已收藏
        function changeToLike() {
            getDiv();
            if (likeDiv) likeDiv.style.display = 'block';  // 加入條件檢查
        }

        // 隱私
        function changeToPriv() {
            getDiv();
            if (privDiv) privDiv.style.display = 'block';  // 加入條件檢查
        }

        // 常見問題
        function changeToFaq() {
            getDiv();
            if (faqDiv) faqDiv.style.display = 'block';    // 加入條件檢查
        }
    </script>

    <script src="https://kit.fontawesome.com/58a19f4902.js" crossorigin="anonymous"></script>
    <script>
        // 選取所有帶有下拉選單的父項目
        const dropdownParents = document.querySelectorAll(".member-left li");

        // 為每個父項目添加點擊事件
        dropdownParents.forEach((parent) => {
            const bigItem = parent.querySelector(".big-item");

            if (bigItem) {
                bigItem.addEventListener("click", (e) => {
                    e.preventDefault(); // 防止鏈接跳轉

                    // 切換當前選項的活躍狀態
                    parent.classList.toggle("active");
                });
            }
        });

        // let membmanage = document.querySelector(".member-management");

        // if (membDiv.style.display === 'block' || accoDiv.style.display === 'block' || pwDiv.style.display === 'block') {
        //             membmanage.classList.add('active'); // 添加active類名，模擬hover效果
        //         } else {
        //             membmanage.classList.remove('active'); // 移除active類名
        //         }
    </script>
</body>

</html>